<!DOCTYPE html>
<html>
  <head>
    <title>wasteof auth</title>
    <link data-n-head="ssr" rel="icon" type="image/x-icon" href="https://wasteof.money/brand/logo.svg">
  </head>
  <body>
    <center>
    <div class="main">
    <img src="https://wasteof.money/brand/nav-logo.svg">
    <h1>wasteof auth</h1>
      <p class="domain"></p>
      <h2>Code: {{ code }}</h2>
      <div class="buttons">
      <a href="https://wasteof.money/posts/628bde28c370574fae7b6067" target="_blank">
      <button onclick="window.setTimeout(stepOne, 1000)" class="primary">Open Post</button>
      </a>
        <a href="{{ redirect }}">
        <button class="secondary">Already Done</button>
        </a>
      </div>
      <p>Just go to the linked post and comment the code.</p>
      </div>
      <p class="disclaimer">Disclaimer: wasteof auth is not in any way affiliated with wasteof.money</p>
      </center>
  </body>
  <script>

    const url = "{{ redirect }}";
let domain = (new URL(url));
domain = domain.hostname;
console.log(domain);
    document.querySelector('p').textContent = `To sign into ${domain}`

    function stepOne() {
      document.querySelectorAll('button')[0].textContent = 'Done'
      document.querySelectorAll('button')[0].parentNode.target = ''
      document.querySelectorAll('button')[0].parentNode.href = '{{ redirect }}'
      document.querySelectorAll('button')[1].textContent = 'Reopen Post'
      document.querySelectorAll('button')[1].parentNode.target = '_blank'
      document.querySelectorAll('button')[1].parentNode.href = 'https://wasteof.money/posts/628bde28c370574fae7b6067'
    }
    
  </script>
  <style>

    body {
      font-family: arial;
      background-color: #101827;
      color: white;
    }

    .domain {
      font-size: 1.3vw;
      color: #6366f1;
      margin-top: -2vw;
    }

    img {
      width: 10vw;
      margin-top: 5vw;
    }

    p {
      margin-top: 3vw;
      font-size: 1vw;
      color: #9ca3af;
    }

    a {
      text-decoration: none;
    }

    .disclaimer {
      width: 30vw;
      position: fixed;
      bottom: 1vw;
      left: 35vw;
    }

    button {
      width: 10vw;
      height: 3vw;
      outline: none;
      border: 0px;
      border-radius: 0.5vw;
      font-family: arial;
      cursor: pointer;
      color: white;
      font-size: 1vw;
    }

    .main {
      position: fixed;
      left: 30vw;
      top: 5vw;
      background-color: #1f2937;
      width: 40vw;
      height: 40vw;
      border-radius: 4vw;
      border: 3px solid #374151;
    }

    h1 {
      font-size: 4vw;
      text-decoration: underline;
      text-decoration-color: #6366f1;
    }

    h2 {
      font-size: 2vw;
    }

    .primary {
      background-color: #6366f1;
    }

    .secondary {
      background-color: #374151;
    }
    
  </style>
</html>
